lab:
  description: ''
  notes: ''
  timestamp: 1567708045.7002175
  title: devnet_university
  version: 0.0.2
nodes:
  - id: n0
    label: internet
    node_definition: csr1000v
    x: -250
    y: 0
    configuration: |-
      hostname internet
      ip domain name virl.local
      !
      !
      license smart enable
      !
      username admin privilege 15 secret admin
      crypto key generate rsa modulus 2048
      !
      vrf definition Mgmt-intf
       address-family ipv4
       exit-address-family
       address-family ipv6
       exit-address-family
      !
      interface GigabitEthernet1
       vrf forwarding Mgmt-intf
       ip address dhcp
       no shut
      interface GigabitEthernet2
       ip address 172.20.0.5 255.255.255.252
       no shut
      interface GigabitEthernet3
       ip address 172.20.0.9 255.255.255.252
       no shut
      interface GigabitEthernet4
       ip address 172.20.0.13 255.255.255.252
       no shut
      interface GigabitEthernet5
       ip address 172.20.0.17 255.255.255.252
       no shut

      !
      ip route  0.0.0.0 0.0.0.0 Null0
      ip route  172.16.0.0 255.240.0.0 Null0

      !
      router bgp 65000
       bgp router-id 172.20.0.5
       neighbor 172.20.0.6 remote-as 65001
       neighbor 172.20.0.18 remote-as 65002
       address-family ipv4
        network 172.16.0.0 mask 255.240.0.0
        neighbor 172.20.0.6 activate
        neighbor 172.20.0.18 activate

      !

      !

      !
      ntp server 192.5.41.40
      ntp server 192.5.41.41

      !
      line vty 0 4
       login local
       transport input ssh
      exit
    image_definition: csr1000v-161101b
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
      - id: i5
        slot: 4
        label: GigabitEthernet5
        type: physical
  - id: n3
    label: sp1-rtr1
    node_definition: csr1000v
    x: -500
    y: 0
    configuration: |-
      hostname sp1-rtr1
      ip domain name virl.local
      !
      !
      license smart enable
      !
      username admin privilege 15 secret admin
      crypto key generate rsa modulus 2048
      !
      vrf definition Mgmt-intf
       address-family ipv4
       exit-address-family
       address-family ipv6
       exit-address-family
      !
      interface GigabitEthernet1
       vrf forwarding Mgmt-intf
       ip address dhcp
       no shut
      interface GigabitEthernet2
       ip address 172.20.0.18 255.255.255.252
       no shut
      interface GigabitEthernet3
       ip address 10.100.1.1 255.255.255.0
       no shut

      !
      ip route  10.100.0.0 255.255.0.0 Null0

      !
      router bgp 65002
       bgp router-id 172.20.0.18
       neighbor 172.20.0.17 remote-as 65000
       address-family ipv4
        network 10.100.0.0 mask 255.255.0.0
        neighbor 172.20.0.17 activate

      !

      !

      !
      ntp server 192.5.41.40
      ntp server 192.5.41.41

      !
      line vty 0 4
       login local
       transport input ssh
      exit
    image_definition: csr1000v-161101b
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
  - id: n4
    label: hq-rtr1
    node_definition: csr1000v
    x: 0
    y: 0
    configuration: |-
      hostname hq-rtr1
      ip domain name virl.local
      !
      !
      license smart enable
      !
      username admin privilege 15 secret admin
      crypto key generate rsa modulus 2048
      !
      vrf definition Mgmt-intf
       address-family ipv4
       exit-address-family
       address-family ipv6
       exit-address-family
      !
      interface GigabitEthernet1
       vrf forwarding Mgmt-intf
       description OOB Management
       ip address dhcp
       no shut
      interface GigabitEthernet2
       description Internet
       ip address 172.20.0.6 255.255.255.252
       no shut
      interface GigabitEthernet3
       description DMZ
       ip address 10.0.0.1 255.255.255.0
       no shut
      interface GigabitEthernet4
       description DC Core
       ip address 10.0.255.1 255.255.255.252
       no shut

      !
      ip route  10.0.0.0 255.255.0.0 Null0

      !
      router bgp 65001
       bgp router-id 172.20.0.6
       neighbor 172.20.0.5 remote-as 65000
       address-family ipv4
        network 10.0.0.0 mask 255.255.0.0
        neighbor 172.20.0.5 activate

      !
      router ospf 65001
       router-id 10.0.255.1
       network 10.0.255.0 255.255.255.252 area 0
       default-information originate

      !

      !
      ntp server 192.5.41.40
      ntp server 192.5.41.41

      !
      line vty 0 4
       login local
       transport input ssh
      exit
    image_definition: csr1000v-161101b
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n5
    label: hq-dc-rtr1
    node_definition: csr1000v
    x: 0
    y: -150
    configuration: |-
      hostname hq-dc-rtr1
      ip domain name virl.local
      !
      !
      license smart enable
      !
      username admin privilege 15 secret admin
      crypto key generate rsa modulus 2048
      !
      vrf definition Mgmt-intf
       address-family ipv4
       exit-address-family
       address-family ipv6
       exit-address-family
      !
      interface GigabitEthernet1
       vrf forwarding Mgmt-intf
       description OOB Management
       ip address dhcp
       no shut
      interface GigabitEthernet2
       description DC Border
       ip address 10.0.255.2 255.255.255.252
       no shut
      interface GigabitEthernet3
       description DC LAN
       ip address 10.0.1.1 255.255.255.0
       no shut
      interface GigabitEthernet4
       description hq-cedge1
       ip address 10.0.255.5 255.255.255.252
       no shut

      !

      !

      !
      router ospf 65001
       router-id 10.0.255.5
       network 10.0.255.0 255.255.255.252 area 0
       network 10.0.255.4 255.255.255.252 area 0
       network 10.0.1.0 255.255.255.0 area 0

      !

      !
      ntp server 192.5.41.40
      ntp server 192.5.41.41

      !
      line vty 0 4
       login local
       transport input ssh
      exit
    image_definition: csr1000v-161101b
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n8
    label: hq-dmz-lan
    node_definition: unmanaged_switch
    x: 250
    y: 0
    configuration: ''
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port0
        type: physical
      - id: i1
        slot: 1
        label: port1
        type: physical
      - id: i2
        slot: 2
        label: port2
        type: physical
      - id: i3
        slot: 3
        label: port3
        type: physical
      - id: i4
        slot: 4
        label: port4
        type: physical
  - id: n9
    label: vmanage1
    node_definition: viptela-manage
    x: 400
    y: -100
    configuration: |-
      Content-Type: multipart/mixed; boundary="===============6560338015520979320=="
      MIME-Version: 1.0

      --===============6560338015520979320==
      Content-Type: text/cloud-config; charset="us-ascii"
      MIME-Version: 1.0
      Content-Transfer-Encoding: 7bit
      Content-Disposition: attachment; filename="vedge.cloud-config"

      #cloud-config
      vinitparam:
       - format-partition : 1

      --===============6560338015520979320==
      Content-Type: text/cloud-boothook; charset="us-ascii"
      MIME-Version: 1.0
      Content-Transfer-Encoding: 7bit
      Content-Disposition: attachment; filename="vedge.init-config"

      #cloud-boothook

      vpn 0
       no interface eth0

      vpn 512
       interface eth0
        ip dhcp-client
        no shutdown
       !
       --===============6560338015520979320==--
    image_definition: viptela-manage-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
  - id: n10
    label: vsmart1
    node_definition: viptela-smart
    x: 400
    y: 0
    configuration: |-
      Content-Type: multipart/mixed; boundary="==BOUNDARY=="
      MIME-Version: 1.0

      --==BOUNDARY==
      Content-Type: text/cloud-boothook; charset="us-ascii"

      #cloud-boothook
      system
       host-name vsmart1
       organization-name       "CIDR_SDWAN_WORKSHOPS"
       vbond                   10.0.0.11
      !
       aaa
        auth-order local radius tacacs
        usergroup basic
         task system read write
         task interface read write
        !

        usergroup netadmin
        !

        usergroup operator
         task system read
         task interface read
         task policy read
         task routing read
         task security read
        !

        user admin
         password $6$u3jhmUlHRY16I1lI$OpkApAwXhGNo2xdKR.j2x7LF7OkRa9P02aSgACGMvmhidKHvxQ2poG6HTulDYp6BXfsm3clE6dz/wvOKLxA8e1
        !
       !

       logging
        disk
         enable
        !
       !
      !

      vpn 0
       interface eth1
        ip address 10.0.0.12/24
        tunnel-interface
         allow-service dhcp
         allow-service dns
         allow-service icmp
         no allow-service sshd
         allow-service netconf
         no allow-service ntp
         no allow-service stun
         allow-service https
        no shutdown
      !
      vpn 512
       interface eth0
        ip dhcp-client
        no shutdown
       !
      !
      --==BOUNDARY==
    image_definition: viptela-smart-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
  - id: n11
    label: vbond1
    node_definition: viptela-bond
    x: 400
    y: 100
    configuration: |-
      Content-Type: multipart/mixed; boundary="==BOUNDARY=="
      MIME-Version: 1.0

      --==BOUNDARY==
      Content-Type: text/cloud-boothook; charset="us-ascii"

      #cloud-boothook
      system
       host-name vbond1
       organization-name       "CIDR_SDWAN_WORKSHOPS"
       vbond                   10.0.0.11
      !
       aaa
        auth-order local radius tacacs
        usergroup basic
         task system read write
         task interface read write
        !

        usergroup netadmin
        !

        usergroup operator
         task system read
         task interface read
         task policy read
         task routing read
         task security read
        !

        user admin
         password $6$u3jhmUlHRY16I1lI$OpkApAwXhGNo2xdKR.j2x7LF7OkRa9P02aSgACGMvmhidKHvxQ2poG6HTulDYp6BXfsm3clE6dz/wvOKLxA8e1
        !
       !

       logging
        disk
         enable
        !
       !
      !

      vpn 0
       interface ge0/0
        ip address 10.0.0.11/24
        tunnel-interface
         allow-service dhcp
         allow-service dns
         allow-service icmp
         no allow-service sshd
         allow-service netconf
         no allow-service ntp
         no allow-service stun
         allow-service https
        no shutdown
      !
      vpn 512
       interface eth0
        ip dhcp-client
        no shutdown
       !
      !
      --==BOUNDARY==
    image_definition: viptela-bond-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
  - id: n12
    label: sp1-host1
    node_definition: lxc
    x: -700
    y: 0
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
  - id: n13
    label: hq-host1
    node_definition: lxc
    x: 0
    y: -350
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
  - id: n14
    label: vmanage1-mgmt
    node_definition: external_connector
    x: 550
    y: -100
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n15
    label: vsmart1-mgmt
    node_definition: external_connector
    x: 550
    y: 0
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n16
    label: vbond-mgmt
    node_definition: external_connector
    x: 550
    y: 100
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n17
    label: hq-vedge1-mgmt
    node_definition: external_connector
    x: 250
    y: -250
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n18
    label: site1-guest-host1
    node_definition: lxc
    x: -450
    y: 250
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
  - id: n19
    label: site1-corp-host1
    node_definition: lxc
    x: -350
    y: 300
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
  - id: n20
    label: site2-guest-host1
    node_definition: lxc
    x: -150
    y: 250
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: eth1
        type: physical
  - id: n21
    label: site2-corp-host1
    node_definition: lxc
    x: -50
    y: 300
    configuration: hostname inserthostname_here
    image_definition: lxc-alpine-37
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: eth1
        type: physical
  - id: n23
    label: site2-vedge1-mgmt
    node_definition: external_connector
    x: 100
    y: 150
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n24
    label: internet-mgmt
    node_definition: external_connector
    x: -250
    y: -150
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n26
    label: sp1-rtr1-mgmt
    node_definition: external_connector
    x: -500
    y: -100
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n27
    label: site1-vedge1-mgmt
    node_definition: external_connector
    x: -600
    y: 150
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n28
    label: hq-rtr1-mgmt
    node_definition: external_connector
    x: -150
    y: -100
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n29
    label: hq-dc-rtr1-mgmt
    node_definition: external_connector
    x: -150
    y: -250
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n6
    label: site1-vedge1
    node_definition: viptela-edge
    x: -400
    y: 150
    configuration: |-
      #cloud-config
      vinitparam:
      - otp: 00000000000000000000000000000000
      - vbond: 1.2.3.4
      - uuid: 12345678-dead-beef-cafe-1234567890ab
      - org: some-org-string
      ssh_authorized_keys:
        - your-ssh-pub-key-line-goes-here
    image_definition: viptela-edge-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
      - id: i2
        slot: 2
        label: ge0/1
        type: physical
      - id: i3
        slot: 3
        label: ge0/2
        type: physical
  - id: n1
    label: site2-vedge1
    node_definition: viptela-edge
    x: -150
    y: 150
    configuration: |-
      hostname site2-cedge1
      ip domain name virl.local
      !
      !
      license smart enable
      !
      username admin privilege 15 secret admin
      crypto key generate rsa modulus 2048
      !
      vrf definition Mgmt-intf
       address-family ipv4
       exit-address-family
       address-family ipv6
       exit-address-family
      !
      interface GigabitEthernet1
       vrf forwarding Mgmt-intf
       ip address dhcp
       no shut
      interface GigabitEthernet2
       ip address 172.20.0.10 255.255.255.252
       no shut
      interface GigabitEthernet3
       ip address 10.22.3.1 255.255.255.0
       no shut
      interface GigabitEthernet4
       ip address  255.255.255.0
       no shut

      !
      ip route  0.0.0.0 0.0.0.0 172.20.0.9

      !

      !

      !

      !
      ntp server 192.5.41.40
      ntp server 192.5.41.41

      !
      line vty 0 4
       login local
       transport input ssh
      exit
    image_definition: viptela-edge-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
      - id: i2
        slot: 2
        label: ge0/1
        type: physical
      - id: i3
        slot: 3
        label: ge0/2
        type: physical
  - id: n2
    label: hq-vedge1
    node_definition: viptela-edge
    x: 250
    y: -150
    configuration: |-
      #cloud-config
      vinitparam:
      - otp: 00000000000000000000000000000000
      - vbond: 1.2.3.4
      - uuid: 12345678-dead-beef-cafe-1234567890ab
      - org: some-org-string
      ssh_authorized_keys:
        - your-ssh-pub-key-line-goes-here
    image_definition: viptela-edge-18-4-3
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
      - id: i1
        slot: 1
        label: ge0/0
        type: physical
      - id: i2
        slot: 2
        label: ge0/1
        type: physical
links:
  - id: l0
    i1: i0
    n1: n14
    i2: i0
    n2: n9
  - id: l1
    i1: i0
    n1: n10
    i2: i0
    n2: n15
  - id: l2
    i1: i0
    n1: n11
    i2: i0
    n2: n16
  - id: l10
    i1: i1
    n1: n9
    i2: i2
    n2: n8
  - id: l11
    i1: i1
    n1: n10
    i2: i3
    n2: n8
  - id: l12
    i1: i1
    n1: n11
    i2: i4
    n2: n8
  - id: l13
    i1: i1
    n1: n0
    i2: i0
    n2: n24
  - id: l14
    i1: i1
    n1: n3
    i2: i0
    n2: n26
  - id: l17
    i1: i1
    n1: n4
    i2: i0
    n2: n28
  - id: l5
    i1: i1
    n1: n5
    i2: i0
    n2: n29
  - id: l4
    i1: i2
    n1: n0
    i2: i2
    n2: n4
  - id: l18
    i1: i5
    n1: n0
    i2: i2
    n2: n3
  - id: l19
    i1: i3
    n1: n3
    i2: i0
    n2: n12
  - id: l7
    i1: i3
    n1: n4
    i2: i0
    n2: n8
  - id: l22
    i1: i4
    n1: n4
    i2: i2
    n2: n5
  - id: l25
    i1: i3
    n1: n5
    i2: i0
    n2: n13
  - id: l6
    i1: i0
    n1: n6
    i2: i0
    n2: n27
  - id: l16
    i1: i1
    n1: n6
    i2: i3
    n2: n0
  - id: l20
    i1: i2
    n1: n6
    i2: i0
    n2: n18
  - id: l21
    i1: i3
    n1: n6
    i2: i0
    n2: n19
  - id: l9
    i1: i0
    n1: n1
    i2: i0
    n2: n23
  - id: l15
    i1: i1
    n1: n1
    i2: i4
    n2: n0
  - id: l23
    i1: i2
    n1: n1
    i2: i0
    n2: n20
  - id: l24
    i1: i3
    n1: n1
    i2: i0
    n2: n21
  - id: l3
    i1: i0
    n1: n2
    i2: i0
    n2: n17
  - id: l8
    i1: i1
    n1: n2
    i2: i1
    n2: n8
  - id: l26
    i1: i2
    n1: n2
    i2: i4
    n2: n5
