<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Public Sector Cloud Ready Network</title>

		<!--<link rel="stylesheet" href="css/reset.css">-->
		<!--<link rel="stylesheet" href="css/reveal.css">-->
		<!--<link rel="stylesheet" href="css/theme/simple.css">-->

		<!-- Theme used for syntax highlighting of code -->
		<!--<link rel="stylesheet" href="lib/css/monokai.css">-->

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.4.1/css/reveal.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<link rel="stylesheet" href="custom.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism.min.css">
	</head>
	<body>
		<style>
		.container{
			display: flex;
		}
		.col{
			flex: 1;
		}
		</style>
		<div class="reveal">
			<div class="slides">
				<section data-state="cover">
					<h1>Public Sector Cloud Ready Network</h1>
					<h3>DevOps Bundle</h3>
				</section>
				<section>
					<h2>What is a DevOps Bundle</h2>
					<ul>
						<li><strong>Architecture</strong> - Detailed architecture with customer-focused use cases</li>
						<li><strong>Simulation</strong> - Dynamic VIRL topology in which to simulate architecture</li>
						<li><strong>Automation</strong> - Automation tooling to deploy and operate in simulated and production environments</li>
						<li><strong>Testing</strong> - Test tooling to verify deployment for CI/CD pipelines</li>
						<li><strong>Cisco DevNet</strong> - Learning Labs and Sandboxes to teach and experience the components of the DevOps Bundle</li>
					</ul>
				</section>
				<section>
					<section>
						<h1>Background</h1>
					</section>
					<section>
						<h2>Overview</h2></h1>
						<img class="plain" src="images/crn_overview.png"/>
					</section>
					<section>
						<h2>Colocation Center Domain</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Cross connection services simplify the interconnection to transport and public clouds</li>
									<li>Establish a “cloud edge” demarcation point for security and visibility for agency </li>
									<li>Reduces “hair-pinning” and latency while improving application performance to cloud services</li>
									<li>Based on TIC 2.0 design recommendations</li>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_overview.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>SD-WAN Domain</h2></h1>
						<div style="font-size: 0.75em;">
						<div class="columns">
						  	<div class="col">
								<ul>
									<li>Segmentation
									<li>Service Chaining
									<li>End-to-End Encryption
									<li>Application Aware Routing
									<li>High-Availability
									<li>Transport independence
									<li>Analytics
								</ul>
						  	</div>
							<div class="col">
								<img class="plain" src="images/sdwan_overview.png"/>
							</div>
						</div>
					</section>
				</section>
				<section>
					<section>
						<h1>Architecture</h1>
					</section>
					<section>
						<h2>Objectives</h2>
						<ul>
							<li>Enterprise-wide, Highly-Available SDWAN Overlay</li>
							<ul>
								<li>Secure, Multi-tenant Overlay Network</li>
								<li>Flexibly architectures, Transport Independent </li>
							</ul>
							<li>Anchored in Colocation Centers</li>
							<ul>
								<li>High bandwidth, low latency access to cloud regions</li>
								<li>Coast effectice geographic redundancy</li>
							</ul>
							<li>Provides a Secure Cloud Edge</li>
							<ul>
								<li>Full security stack</li>
								<li>Compliant with TIC Requirements</li>
							</ul>
						</ul>
					</section>
					<section>
						<h2>Fabric Overview</h2>
						<img class="plain" src="images/sdwan_overview.png"/>
					</section>
					<section>
						<h2>SD-WAN Features</h2>
						<div style="font-size: 0.75em;"><br>
						<p><strong>SEGMENTATION</strong> – Topology-driven network-wide segmentation</p>
						<p><strong>SERVICE CHAINING</strong> – Insertion of security services into the traffic flow</br>
						Firewalls, IDS, as well as third-party solutions</p>
						<p><strong>END-to-END ENCRYPTION</strong> - Secure, zero-trust, authenticated transport</br>
						Extend the SD-WAN encrypted fabric to branches and into the public cloud</p>
						<p><strong>APPLICATION AWARE ROUTING</strong> - Intelligent traffic steering based on awareness of
						the application’s locations (on-premise, public cloud, or SaaS) and SLA requirements</p>
						<p><strong>HIGH AVAILABLITY</strong> - East/West COLO presence for geographic load-balancing and redundancy</br>
						<p><strong>TRANSPORT INDEPENDANCE</strong>Major cost reduction relating to WAN, including circuit cost, operational expenditure, and the ability to leverage lower-cost bandwidth services, through transport optimization.</p>
						<p><strong>ANALYTICS</strong> – Advanced analytics for both real-time insight to the WAN fabric’s behavior, as well as future-looking “what-if” analysis for billing, capacity planning, all cloud managed</p>
						</div>
						<aside class="notes">
						</aside>
					</section>
					<section>
						<h2>Colo Node</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Internet Routers peer with Service Providers and other Peers</li>
									<li>Cloud Exchange Routers connect to AWS, Azure, GCE, etc. through the COLO</li>
									<li>MPLS Router provides path diversity over private network</li>
									<li>Tenant vEdges terminate the SD-WAN multi-tenant fabric</li>
									<li>Inter-Tenant Firewalls enforce policy outside<->tenant and tenant<->tenant</li>
									<li>Optional COLO Routers route traffic within Shared Services node</li>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_network.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>Colo Security Stack</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Security Visability:</li>
									<ul>
										<li>Stealthwatch</li>
									</ul>
									<li>Automated Threat Intellience Protection</li>
									<ul>
										<li>Firepower - IDS/IPS</li>
										<li>AMP - End Point Security</li>
									</ul>
									<li>Security Services</li>
									<ul>
										<li>DUO</li>
										<li>Umbrella</li>
									</ul>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_security.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>COLO Tenant Traffic Flow</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Multi-Tenant Fabric</li>
									<li>Intra-Tenant traffic stays within SD-WAN Fabric</li>
									<li>MPLS Router provides path diversity over private network</li>
									<li>Inter-Tenant traffic passes through Firewall for policy enforcement</li>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_tenant_traffic.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>COLO Routing Protocols</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>BGP as the external routing protocol to the Service providers</li>
									<li>BGP as the internal routing protocol to tightly control route distribution</li>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_routing_protocols.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>COLO High Availability</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Internet Routers:</li>
									<ul>
										<li>Redundant BGP Peerings</li>
										<li>Receive default from upstream and redistribute into OSPF</li>
									</ul>
									<li>vEdge Transport Interfaces/ Firewall Outside Interfaces</li>
									<ul>
										<li>Peer with Internet routers via OSPF in area 0, receive default route</li>
									</ul>
									<li>vEdge Service Interfaces/ Firewall Tenant Interfaces</li>
									<ul>
										<li>Each Tenant VPN and Firewall on different VLAN tag</li>
										<li>Each vEdge Service interface, Firewall interfaces, and potentially COLO router VRF peer in separate OSPF area</li>
									</ul>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_ha.png"/>
							  </div>
						  </div>
						</div>
					</section>
					<section>
						<h2>Physical Stack</h2>
							<div style="font-size: 0.75em;">
							<div class="columns">
							  <div class="col">
								<ul>
									<li>Cat 9K ToR Aggregation</li>
									<li>CSPs provide VNF support and automation</li>
									<li>PNF for line-rate routing, policy enforcement, and inspection</li>
									<li>HyperFlex provides converged computing for Shared Services</li>
								</ul>
							  </div>
							  <div class="col">
								  <img class="plain" src="images/colo_physical.png"/>
							  </div>
						  </div>
						</div>
					</section>
				</section>
				<section>
					<section>
						<h1>Simulation</h1>
					</section>
					<section>
						<h2>VIRL Topology</h2>
						<img class="plain" src="images/virl_topology.png"/>
					</section>
					<section>
						<h2>Dynamically Generated</h2>
						<img class="plain" src="images/virl_dynamic_topology.png"/>
					</section>
					<section>
						<h2>Data-Driven Configuration</h2>
						<img class="plain" src="images/virl_data-driven_configuration.png"/>
					</section>
					<section>
						<h2>Benefits of Dynamically Generated Topology</h2>
						<ul>
							<li>Uses the same inventory for the simulation as production</li>
							<li>Generates Day0 config to match your network</li>
							<li>One topology can be used, but deployed to meet the situation</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h1>Automation</h1>
					</section>
                    <section>
                        <h2>Inventory-Driven Configuration</h2>
                        <img class="plain" src="images/inventory_driven_configuration.png"/>
                    </section>
                    <section>
                        <h2>Flexibility of Data-Driven Automation</h2>
                        <img class="plain" src="images/data_template_configuration.png"/>
                    </section>
					<section>
                        <h2>Roles Used</h2>
                        <div style="font-size: 0.75em;"><br>
						<p><strong>ansible-viptela</strong></p>
                            <ul>
                                <li>Infrastructure agnostic deployment of SD-WAN control plane]</li>
                                <li>Provision and configure SD-WAN edge</li>
                                <li>Full template lifecycle (import, export, add, delete, modify, attach, detach)</li>
                                <li>Full policy lifecycle (import, export, add, delete, modify, activate, deactivate)</li>
                            </ul>
						<p><strong>ansible-virl</strong></br>
                            <ul>
                                <li>Topology lifecycle (Dynamically generate, launch, clean)</li>
                                <li>Dynamic inventory</li>
                            </ul>
						</div>
					</section>
					<section>
                        <h2>Roles Used (cont.)</h2>
                        <div style="font-size: 0.75em;"><br>
							<strong>ansible-pyats</strong>
							<p>
								<p><code>pyats_parse_command</code>
									<ul>
										<li>Run a command and return structured output</li>
										<li>Diff with output of previous command</li>
									</ul>
								</p>
								<p><code>pyats_parse_config</code>
									<ul>
										<li>Parse device config and return structured data</li>
										<li>Diff with previously saved config</li>
									</ul>
								</p>
								<p><code>pyats_parser</code>
									<ul>
										<li>Ansible filter for parsing unstructured data</li>
									</ul>
								</p>
								<p><code>pyats_diff</code>
									<ul>
										<li>Ansible filter for diffing structured data (command and configs)</li>
									</ul>
								</p>
							</p>
						</div>
					</section>
                    <section>
                        <h2>Testbed Bring-Up Sequence</h2>
                        <h4>~15min to bring up a fully operational SD-WAN fabric</h4>
                        <ul>
                            <li>Create topology
                            <li>License VNFs
                            <li>Configure SD-WAN control plane
                            <li>Provision SD-WAN edges
                            <li>Import templates
                            <li>Attach templates
                            <li>Import policy
                            <li>Attach policy
                        </ul>
                    </section>
                    <section>
                        <h2>Consistent with Operations</h2>
                        <h4><em>Same/similar code used for operations</em></h4>
                        <ul>
                            <li><em>Create topology</em></li>
                            <li><em>License VNFs</em></li>
                            <li><em>Configure SD-WAN control plane</em></li>
                            <li><em>Provision SD-WAN edges</em></li>
                            <li><em>Import templates</em></li>
                            <li><em>Attach templates</em></li>
                            <li><em>Import policy</em></li>
                            <li><em>Attach policy</em></li>
                        </ul>
                    </section>
				</section>
				<section>
					<section>
						<h1>Testing</h1>
					</section>
                    <section>
                        <h2>What can we test?</h2>
                        <ul>
                            <li>Automation Code
                            <li>Configuration
                            <li>Software/Firmware
                            <li>Connectivity
                            <li>Throughput
                        </ul>
                    </section>
					<section>
                        <h2>Inventory-Driven Configuration</h2>
                        <img class="plain" src="images/testing_inventory_driven.png"/>
                    </section>
					<section>
                        <h2>Network CI Workflow</h2>
                        <img class="plain" src="images/network_ci_workflow.png"/>
                    </section>
					<section>
						<h2>Jenkins</h2>
						<ul>
							<li>Jenkinsfile defines (most) everything about the tests
							<li>Launches tests in a docker container for consistent environment
							<li>Loads OS dependencies and Python dependencies (requirements.txt)
							<li>Different Jenkinsfiles for different type of tests (e.g, full, partial, use-case specific)
							<li>VIRL environment with static session ID per environment
							<li>Resource locking
							<li>Speed Kills – Lot’s of retries
						</ul>
					</section>
					<section>
						<h2>Validation</h2>
						<div style="font-size: 0.75em;"><br>
						<p><code>check-sdwan.yml</code>
							<ul>
								<li>Performs tests of SD-WAN to verify both connectivity and policy</li>
								<li>Uses vmanage_nping for testing</li>
							</ul>
						</p>
						<p><code>check-network.yml</code>
							<ul>
								<li>Performs connectivity tests of the underlay</li>
								<li>Uses pyATS to perform automated “stare-and-compare” of routing protocols</li>
							</ul>
						</p>
						</div>
					</section>
				</section>
				<section>
					<section>
						<h1>Learning Labs</h1>
					</section>
					<section>
						<img class="plain" src="images/devnet_swdan_pipeline.png"/>
					</section>
				</section>
				<section>
					<h2>References</h2>
					<ul>
						<li><a href="https://github.com/ciscodevnet/ps-crn">PS-CRN Github Repo</a></h2></li>
					</ul>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
